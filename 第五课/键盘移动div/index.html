<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="main.css">
    <title>Document</title>
</head>
<body>
    <div class="main">
        <div class="top">
            <p>红色方块为键盘操作区域，您可以进行如下操作：</p>
            <p>上：↑ 下：↓ 左：← 右：→                </p>
            <p>Ctrl + 1 : 背景变为绿色
                    Ctrl + 2 : 背景变为黄色
                    Ctrl + 3 : 背景变为蓝色
                    Ctrl + ↑ : 放大
                    Ctrl + ↓ : 缩小</p>
        </div>
        <div id="rec"></div>    
    </div>
    <script>
    function Move(){
        this.rec= document.getElementById('rec')
        
        this.width=200
        this.height=200
        this.left=200
        this.top=100
        var self=this
        this.changeRec=function(zoom,length){
            document.onkeydown=function(e){
                if(e.ctrlKey){
                    switch(e.keyCode){
                        case 38:
                        self.width+=self.width*zoom
                        self.height+=self.height*zoom
                        self.rec.style.width=self.width+"px"
                        self.rec.style.height=self.height+"px"
                        break;
                        case 40:
                        self.width-=self.width/zoom
                        self.height-=self.height/zoom
                        self.rec.style.width=self.width+"px"
                        self.rec.style.height=self.height+"px"
                        break;
                    }

                }else{
                   self.moveRec(e,length)
                }    
            }
        }

        this.moveRec=function(e,length){
            switch(e.keyCode||e.which){
                        case 37:
                        if(self.rec.offsetLeft!==0){
                            self.left-=length
                        }
                        
                        self.rec.style.left=self.left+"px";
                        break;
                        case 38:
                        if(self.rec.offsetTop!==0){
                            self.top-=length
                        }
                        
                        self.rec.style.top=self.top+"px";
                        break;
                        case 39:
                        if(self.rec.offsetLeft<1080){
                            self.left+=length
                        }
                        
                        self.rec.style.left=self.left+"px";
                        break;
                        case 40:
                        var bottom=self.top+self.rec.offsetHeight
                        console.log(bottom)
                        if(bottom<innerHeight){
                            self.top+=length
                        }
                        
                        self.rec.style.top=self.top+"px"
                        break;
                    }
        }
        this.init=function(){
            self.changeRec(2,20)
        }
        
    }
    var obj=new Move()
    obj.init()
    </script>
</body>
</html>